{% extends 'nav.html' %}

{% block content %}
<div class="container" style="margin-top: 30px;">
    <h2>üîç AI-Powered Search</h2>

    <form method="get" action="" style="margin-bottom: 20px;">
        <input type="text" name="q" placeholder="Search posts by meaning..." value="{{ query }}" class="form-control" required />
        <br>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    {% if results %}
        <h4>Top results for "<strong>{{ query }}</strong>":</h4>
        <ul class="list-group">
            {% for post in results %}
                <li class="list-group-item">
                    <p><strong>{{ post.user }}</strong> posted:</p>
                    <p>{{ post.content }}</p>
                    {% if post.image %}
                        <img src="{{ post.image.url }}" alt="post image" style="max-width: 100%; height: auto; margin-top: 10px;">
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% elif query %}
        <p>No relevant posts found for "<strong>{{ query }}</strong>".</p>
    {% endif %}
</div>
{% endblock %}